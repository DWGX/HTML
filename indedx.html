<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COVID-19疫苗使用情况 - 2025</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.2/css/all.min.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background: linear-gradient(135deg, #1A1A1A, #2A2A2A);
            color: #E0E0E0;
            overflow-x: hidden;
        }

        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        h1 {
            color: #FFFFFF;
            font-size: 2.5em;
            margin-bottom: 30px;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
        }

        .map {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin-bottom: 40px;
        }

        .region {
            background: #333333;
            padding: 15px 25px;
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.25, 1, 0.5, 1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .region:hover {
            transform: translateY(-5px) scale(1.05);
            background: #444444;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .region.active {
            transform: scale(0.98);
            background: #555555;
        }

        .info-panel {
            display: none;
            background: linear-gradient(135deg, #2A2A2A, #333333);
            padding: 25px;
            border-radius: 20px;
            width: 85%;
            max-width: 700px;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.5);
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            backdrop-filter: blur(5px);
            opacity: 0;
        }

        .info-panel.show {
            display: block;
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
        }

        .info-panel h2 {
            color: #FFFFFF;
            margin-bottom: 20px;
            font-size: 1.8em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .info-panel p {
            margin: 12px 0;
            line-height: 1.6;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .info-panel p i {
            color: #4CAF50;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            color: #E0E0E0;
            font-size: 1.8em;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            color: #FFFFFF;
            transform: rotate(90deg);
        }

        .timeline {
            margin-top: 25px;
            position: relative;
        }

        .timeline-item {
            margin: 15px 0;
            padding-left: 25px;
            position: relative;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s cubic-bezier(0.5, 1, 0.75, 1);
        }

        .timeline-item.show {
            opacity: 1;
            transform: translateY(0);
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: 5px;
            top: 5px;
            width: 12px;
            height: 12px;
            background: #4CAF50;
            border-radius: 50%;
            box-shadow: 0 0 8px rgba(76, 175, 80, 0.6);
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 10px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #4CAF50;
            opacity: 0.3;
        }

        .progress-bar {
            width: 100%;
            background: #3A3A3A;
            height: 20px;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 15px;
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #81C784);
            width: 0;
            transition: width 1.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .vaccine-btn, .report-btn {
            margin-top: 20px;
            padding: 10px 20px;
            background: #4CAF50;
            border: none;
            border-radius: 10px;
            color: #FFFFFF;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
            margin-right: 10px;
        }

        .vaccine-btn:hover, .report-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.4);
        }

        @media (max-width: 600px) {
            .info-panel {
                width: 90%;
            }
            h1 {
                font-size: 1.8em;
            }
            .region {
                padding: 12px 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>COVID-19疫苗使用情况 - 截止2025年3月</h1>
        <div class="map">
            <div class="region" data-region="mainland">🇨🇳 中国大陆</div>
            <div class="region" data-region="hongkong">🇭🇰 香港</div>
            <div class="region" data-region="macau">🇲🇴 澳门</div>
            <div class="region" data-region="taiwan">🇨🇳 台湾</div>
            <div class="region" data-region="usa">🇺🇸 美国</div>
            <div class="region" data-region="japan">🇯🇵 日本</div>
        </div>
        <div class="info-panel" id="infoPanel">
            <button class="close-btn" onclick="closePanel()">×</button>
            <h2 id="regionTitle"><i class="fas fa-syringe"></i></h2>
            <p><strong><i class="fas fa-vial"></i> 疫苗类型:</strong> <span id="vaccineTypes"></span></p>
            <p><strong><i class="fas fa-users"></i> 接种人数:</strong> <span id="vaccinatedCount"></span></p>
            <p><strong><i class="fas fa-chart-pie"></i> 覆盖率:</strong> <span id="coverageRate"></span></p>
            <p><strong><i class="fas fa-info-circle"></i> 详细信息:</strong> <span id="details"></span></p>
            <div class="progress-bar">
                <div class="progress" id="progressBar"></div>
            </div>
            <div class="timeline" id="timeline"></div>
            <p><strong><i class="fas fa-link"></i> 数据来源:</strong> <a id="dataSource" href="#" target="_blank" style="color: #81C784;"></a></p>
            <button class="vaccine-btn" onclick="showVaccineData()"><i class="fas fa-database"></i> 查看疫苗数据</button>
            <button class="report-btn" onclick="showReport()"><i class="fas fa-file-alt"></i> 查看研究报告</button>
        </div>
    </div>

    <script>
        const vaccineData = {
            mainland: {
                title: "🇨🇳 中国大陆",
                vaccines: "Sinovac (科兴), Sinopharm (国药), CanSino",
                count: "截至2025年3月，约36亿剂次",
                coverage: "92.5%",
                details: "中国大陆自2020年起大规模推广国产疫苗，Sinovac和Sinopharm为主要类型。根据WHO报告，疫苗有效性在50%-79%之间，对重症保护显著。截至2025年，加强针覆盖率达80%以上。",
                timeline: [
                    "2020年12月：疫苗获批紧急使用",
                    "2021年3月：全国大规模接种启动",
                    "2022年-2025年：推广加强针，覆盖率达92.5%"
                ],
                source: "https://data.who.int/dashboards/covid19/"
            },
            hongkong: {
                title: "🇭🇰 香港",
                vaccines: "辉瑞-BioNTech, 莫德纳, 科兴",
                count: "截至2025年3月，约800万人接种",
                coverage: "85.0%",
                details: "香港卫生署报告显示，辉瑞疫苗占接种量的50%以上，科兴因储存便利使用广泛。2021年包装问题曾引发争议，但后恢复正常供应。2025年加强针覆盖率约70%。",
                timeline: [
                    "2021年1月：批准辉瑞疫苗",
                    "2021年3月24日：暂停BioNTech疫苗，后恢复",
                    "2022年-2025年：持续推广加强针"
                ],
                source: "https://www.chp.gov.hk/en/index.html"
            },
            macau: {
                title: "🇲🇴 澳门",
                vaccines: "辉瑞-BioNTech, 科兴",
                count: "截至2025年3月，约65万人完成两剂",
                coverage: "88.0%",
                details: "澳门卫生局数据显示，辉瑞和科兴疫苗为主，覆盖率逐年提升。2022年后取消疫苗证明要求，2025年加强针接种率达60%，旅游业复苏推动疫苗推广。",
                timeline: [
                    "2021年：开始接种",
                    "2022年8月17日：取消疫苗证明要求",
                    "2025年：加强针覆盖率提高"
                ],
                source: "https://www.ssm.gov.mo/"
            },
            taiwan: {
                title: "🇨🇳 台湾",
                vaccines: "辉瑞-BioNTech, 莫德纳, 阿斯利康, 高端疫苗",
                count: "截至2025年3月，约2000万人接种",
                coverage: "87.0%",
                details: "台湾CDC报告指出，辉瑞和莫德纳为主力疫苗，高端疫苗因试验争议使用较少。2021年供应短缺后，国际采购缓解压力，2025年覆盖率稳定在87%。",
                timeline: [
                    "2021年初：疫苗供应不足",
                    "2021年6月：大规模接种启动",
                    "2022年-2025年：推广加强针"
                ],
                source: "https://www.cdc.gov.tw/En"
            },
            usa: {
                title: "🇺🇸 美国",
                vaccines: "Pfizer-BioNTech, Moderna, Johnson & Johnson",
                count: "截至2025年3月，约2.8亿人完全接种",
                coverage: "70.0%",
                details: "美国CDC数据显示，mRNA疫苗（Pfizer和Moderna）占主导地位，覆盖率因疫苗犹豫问题低于预期。2025年更新疫苗针对变异株，接种率缓慢提升。",
                timeline: [
                    "2020年12月：疫苗获批紧急使用",
                    "2021年3月：大规模接种启动",
                    "2022年-2025年：推广更新疫苗"
                ],
                source: "https://www.cdc.gov/coronavirus/2019-ncov/vaccines/"
            },
            japan: {
                title: "🇯🇵 日本",
                vaccines: "Pfizer-BioNTech, Moderna, AstraZeneca",
                count: "截至2025年3月，约1亿人完全接种",
                coverage: "82.0%",
                details: "日本厚生劳动省报告显示，Pfizer疫苗使用最广，2021年Delta变种推动接种高峰。2025年加强针覆盖率约75%，疫苗安全性争议较少。",
                timeline: [
                    "2021年2月：开始接种",
                    "2021年8月：针对Delta变种加速接种",
                    "2022年-2025年：推广加强针"
                ],
                source: "https://www.mhlw.go.jp/english/"
            }
        };

        const regions = document.querySelectorAll('.region');
        const infoPanel = document.getElementById('infoPanel');
        const regionTitle = document.getElementById('regionTitle');
        const vaccineTypes = document.getElementById('vaccineTypes');
        const vaccinatedCount = document.getElementById('vaccinatedCount');
        const coverageRate = document.getElementById('coverageRate');
        const details = document.getElementById('details');
        const progressBar = document.getElementById('progressBar');
        const timeline = document.getElementById('timeline');
        const dataSource = document.getElementById('dataSource');
        let animationFrame;

        async function fetchVaccineData() {
            try {
                const response = await fetch('https://disease.sh/v3/covid-19/vaccine/coverage/countries?lastdays=1');
                const data = await response.json();
                updateDataFromAPI(data);
            } catch (error) {
                console.error('获取疫苗数据失败:', error);
            }
        }

        function updateDataFromAPI(apiData) {
            const countryMapping = {
                'China': 'mainland',
                'Hong Kong': 'hongkong',
                'Macau': 'macau',
                'Taiwan': 'taiwan',
                'United States': 'usa',
                'Japan': 'japan'
            };
            apiData.forEach(country => {
                const regionKey = countryMapping[country.country];
                if (regionKey && vaccineData[regionKey]) {
                    const latest = country.timeline[Object.keys(country.timeline)[0]];
                    vaccineData[regionKey].count = `截至最新数据，${latest}剂次`;
                    vaccineData[regionKey].coverage = Math.min((latest / 1000000) * 100, 100).toFixed(1) + '%';
                }
            });
        }

        regions.forEach(region => {
            region.addEventListener('click', () => {
                if (animationFrame) cancelAnimationFrame(animationFrame);
                const dataKey = region.getAttribute('data-region');
                const data = vaccineData[dataKey];
                
                regionTitle.textContent = data.title;
                vaccineTypes.textContent = data.vaccines;
                vaccinatedCount.textContent = data.count;
                coverageRate.textContent = data.coverage;
                details.textContent = data.details;
                dataSource.href = data.source;
                dataSource.textContent = '官方文档';
                progressBar.style.width = '0';

                timeline.innerHTML = '';
                data.timeline.forEach(item => {
                    const div = document.createElement('div');
                    div.className = 'timeline-item';
                    div.textContent = item;
                    timeline.appendChild(div);
                });

                infoPanel.style.display = 'block';
                requestAnimationFrame(() => {
                    infoPanel.classList.add('show');
                });
                regions.forEach(r => r.classList.remove('active'));
                region.classList.add('active');

                animationFrame = requestAnimationFrame(() => {
                    progressBar.style.width = data.coverage;
                    const timelineItems = timeline.querySelectorAll('.timeline-item');
                    timelineItems.forEach((item, index) => {
                        setTimeout(() => item.classList.add('show'), index * 100);
                    });
                });
            });
        });

        function closePanel() {
            if (animationFrame) cancelAnimationFrame(animationFrame);
            infoPanel.classList.remove('show');
            setTimeout(() => {
                infoPanel.style.display = 'none';
                regions.forEach(r => r.classList.remove('active'));
                progressBar.style.width = '0';
                timeline.querySelectorAll('.timeline-item').forEach(item => item.classList.remove('show'));
            }, 400);
        }

        function showVaccineData() {
            let vaccineInfo = '疫苗数据概览（截止2025年3月）:\n';
            for (const key in vaccineData) {
                vaccineInfo += `${vaccineData[key].title}: ${vaccineData[key].vaccines} - 覆盖率: ${vaccineData[key].coverage}\n`;
            }
            alert(vaccineInfo);
        }

        function showReport() {
            const report = `
研究报告概览（截止2025年3月）:
- 中国大陆: WHO报告指出，Sinovac和Sinopharm疫苗对重症保护率达90%以上，但对轻症保护较低（50%-79%）。
- 香港: 卫生署研究显示，辉瑞疫苗免疫反应优于科兴，2025年mRNA疫苗使用率提升。
- 澳门: 卫生局报告疫苗安全性高，未见重大不良反应。
- 台湾: CDC研究表明，高端疫苗抗体反应低于预期，辉瑞和莫德纳更受欢迎。
- 美国: CDC研究发现，mRNA疫苗对变异株保护率约85%，加强针有效性显著。
- 日本: 厚生劳动省研究显示，接种后心肌炎风险低于预期，疫苗总体安全。
            `;
            alert(report);
        }

        fetchVaccineData();
    </script>
</body>
</html>